{% load index_keys %}
{% load widget_tweaks %}

{% if not field|field_type = "DateField" %}
    {# String/Integer form field type #}
    <div class="control-group">
        {% if field.errors %}
            {% for error in field.errors %}
                <div class="alert alert-error">
                    <a class="close">×</a>
                    <strong>{{ error }}</strong>
                </div>
            {% endfor %}
        {% endif %}
        <label class="control-label">{{ field.label }}</label>
        <div class="controls">
            {{ field|attr:'class:input-xxlarge' }}
            <p class="help-block">{{ field.help_text }}</p>
        </div>
    </div>
{% else %}
    {# Dynamic Date type fields rendering #}
    {% if not field.name = "date"%} {% if not field.name = "end_date" %}
        <div class="control-group">
            {%  if field.errors %}
                {%  for error in field.errors %}
                    <div class="alert alert-error">
                        <a class="close">×</a>
                        <strong>{{ error }}</strong>
                    </div>
                {% endfor %}
            {% endif %}
            <label class="control-label" for="id_date">{{ field.label }}</label>
            <div class="input">
                <div class="controls">
                    <div class="input-prepend">
                        <span class="add-on"><i class="icon-calendar"></i></span>
                        <input id="id_date" type="text" value="{{ field.value|date:'Y-m-d' }}" name="{{ field.name }}" data-datepicker="datepicker" />
                        {% if field.name = "date" %}
                            {# Additional date range field #}
                        {% endif %}
                        <p class="help-block">{{ field.help_text }}</p>
                    </div>
                </div>
            </div>
        </div>
    {% endif %} {# not end_date #}
    {% endif %} {# not date #}

    {% if field.name = "date" %}
        <div class="row">
        <div class="span6">
            <div class="control-group">
                {# Rendering first part of fields pair #}
                {%  if field.errors %}
                    {%  for error in field.errors %}
                        <div class="alert alert-error">
                            <a class="close">×</a>
                            <strong>{{ error }}</strong>
                        </div>
                    {% endfor %}
                {% endif %}
                <label class="control-label" for="id_date">{{ field.label }}</label>
                <div class="input">
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on"><i class="icon-calendar"></i></span>
                            <input id="id_date" type="text" value="{{ field.value|date:'Y-m-d' }}" name="{{ field.name }}" data-datepicker="datepicker" />
                            <p class="help-block">{{ field.help_text }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    {% endif %} {# field = date #}

    {% if field.name = "end_date" %}
        {# Additional date range field (Second part) #}
        <div class="span6">
            <div class="control-group">
                {%  if field.errors %}
                    {%  for error in field.errors %}
                        <div class="alert alert-error">
                            <a class="close">×</a>
                            <strong>{{ error }}</strong>
                        </div>
                    {% endfor %}
                {% endif %}
                <label class="control-label" for="id_end_date">{{ field.label }}</label>
                <div class="input">
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on"><i class="icon-calendar"></i></span>
                            <input id="id_end_date" type="text" value="{{ field.value|date:'Y-m-d' }}" name="{{ field.name }}" data-datepicker="datepicker" />
                            <p class="help-block">{{ field.help_text }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    {% endif %} {# field = end_date #}
{% endif %} {# field_type #}

{# INDEXING FORM ORIGINALLY DESIGNED FIELDS #}
{% comment %}
                <div class="alert alert-error">
                    <a class="close">×</a>
                    <strong>Error!</strong> No errors for now
                </div>

                <div class="control-group">
                    <label class="control-label" for="select_doc_type">Document Type</label>
                    <div class="controls">
                        <select id="select_doc_type">
                            <option></option>
                            <option>Legal</option>
                            <option>HR</option>
                            <option>Contracts</option>
                        </select>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="dateselect">Creation Date</label>
                    <div class="input">
                        <div class="controls">
                            <div class="input-prepend">
                                <span class="add-on"><i class="icon-calendar"></i></span>
                                <input data-datepicker="datepicker" class="input-medium" type="text" value="" id="dateselect" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="input01">Key 1 Label</label>
                    <div class="controls">
                        <input type="text" class="input-medium" id="input01">
                        <p class="help-block">Key 1 Desc</p>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="input01">Key 2 Label</label>
                    <div class="controls">
                        <input type="text" class="input-medium" id="input02">
                        <p class="help-block">Key 2 Desc</p>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="input01">Key 3 Label</label>
                    <div class="controls">
                        <input type="text" class="input-medium" id="input03">
                        <p class="help-block">Key 3 Desc</p>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="input01">Description</label>
                    <div class="controls">
                        <input type="text" class="input-xxlarge" id="inputdesc">
                        <p class="help-block">Short description of the document</p>
                    </div>
                </div>
{% endcomment %}



{# SEARCH FORM ORIGINALLY DESIGNED FIELDS #}
{% comment %}
                <div class="control-group">
                    <label class="control-label" for="optionsCheckboxList">Document Types</label>
                    <div class="controls">
                        <label class="checkbox">
                            <input type="checkbox" name="optionsCheckboxList1" value="option1">
                            Employee Forms
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" name="optionsCheckboxList2" value="option2">
                            Legal Documents
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" name="optionsCheckboxList3" value="option3">
                            Tax Declarations
                        </label>
                        <p class="help-block"><strong>Note:</strong> Specify document types or leave blank to search all types.</p>
                    </div>
                </div>

                {# NB, these date selectors could be better done. Eg see http://addyosmani.github.com/jquery-ui-bootstrap/ #}
                <div class="control-group">
                    <label class="control-label" for="dateselect_from">From Date</label>
                    <div class="input">
                        <div class="controls">
                            <div class="input-prepend">
                                <span class="add-on"><i class="icon-calendar"></i></span>
                                <input data-datepicker="datepicker" class="input-medium" type="text" value="" id="dateselect_from" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="dateselect_to">To Date</label>
                    <div class="input">
                        <div class="controls">
                            <div class="input-prepend">
                                <span class="add-on"><i class="icon-calendar"></i></span>
                                <input data-datepicker="datepicker" class="input-medium" type="text" value="" id="dateselect_to" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="input01">Key 1 Label</label>
                    <div class="controls">
                        <input type="text" class="input-medium" id="input01">
                        <p class="help-block">Key 1 Desc</p>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="input01">Key 2 Label</label>
                    <div class="controls">
                        <input type="text" class="input-medium" id="input02">
                        <p class="help-block">Key 2 Desc</p>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="input01">Key 3 Label</label>
                    <div class="controls">
                        <input type="text" class="input-medium" id="input03">
                        <p class="help-block">Key 3 Desc</p>
                    </div>
                </div>
{% endcomment %}
